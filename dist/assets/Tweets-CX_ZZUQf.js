import{a as n,q as h,r as j,j as e,R as g}from"./index-QFptoyZp.js";import{b as N,T,a as b}from"./Tweet-DHm94S85.js";import{S as x}from"./SubscriberSkeleton-Cndy_ntt.js";function F(){const f=n(s=>{var a;return(a=s.auth.user)==null?void 0:a._id}),o=n(s=>s.auth.authStatus),{data:l,fetchNextPage:i,hasNextPage:c,isFetchingNextPage:r,isFetching:m,isFetched:S,isRefetching:u}=N(o),{ref:p,inView:t}=h();j.useEffect(()=>{t&&c&&i()},[t,c,i]);const d=(l==null?void 0:l.pages.flatMap(s=>s.docs))||[];return e.jsxs("section",{className:"w-full pb-[70px] sm:ml-[70px] sm:pb-0 lg:ml-0",children:[e.jsx("h1",{className:"text-3xl font-bold my-2 ml-4",children:"Tweets "}),e.jsx("div",{className:"px-4",children:e.jsx(T,{})}),e.jsxs("div",{className:"flex flex-col gap-2 p-4 h-full",children:[m&&!r&&!u?e.jsx("div",{className:"flex flex-col justify-center gap-3",children:Array(5).fill().map((s,a)=>e.jsx(x,{},a))}):d.map(s=>{var a;return e.jsxs(g.Fragment,{children:[" ",e.jsx(b,{tweet:s,isOwner:((a=s==null?void 0:s.ownerDetails)==null?void 0:a._id)===f})]},s==null?void 0:s._id)}),r&&e.jsx("div",{className:"flex flex-col justify-center gap-3",children:Array(3).fill().map((s,a)=>e.jsx(x,{},a))}),e.jsx("div",{ref:p})]})]})}export{F as default};
