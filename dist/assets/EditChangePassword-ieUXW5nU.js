import{z as a,c as u,ag as g,j as s,t as h,_ as f}from"./index-QFptoyZp.js";const b=a.object({oldPassword:a.string().min(6,{message:"Password must be at least 6 characters"}),newPassword:a.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:a.string().min(6,{message:"Password must be at least 6 characters"})});function N(){const{register:r,handleSubmit:c,reset:o,watch:d,formState:{errors:e}}=u({resolver:h(b),mode:"onChange"});d("oldPassword"),d("newPassword"),d("confirmPassword");const{mutateAsync:i,isPending:l}=g(),w=async m=>{const{oldPassword:p,newPassword:n,confirmPassword:x}=m;if(n!==x){f.error("New password and confirm password do not match");return}const t={oldPassword:p,newPassword:n};console.log(t),await i(t)&&o()};return s.jsxs("div",{className:"flex flex-wrap justify-center gap-y-4 py-4",children:[s.jsxs("div",{className:"w-full sm:w-1/2 lg:w-1/3",children:[s.jsx("h5",{className:"font-semibold",children:"Password"}),s.jsx("p",{className:"text-gray-300",children:"Please enter your current password to change your password."})]}),s.jsx("div",{className:"w-full sm:w-1/2 lg:w-2/3",children:s.jsxs("form",{onSubmit:c(w),className:"rounded-2xl",children:[s.jsxs("div",{className:"flex flex-wrap gap-y-4 p-4 bg-gray-900 rounded-2xl",children:[s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"mb-1 inline-block",htmlFor:"old-pwd",children:"Current password"}),s.jsx("input",{type:"password",className:"w-full rounded-lg bg-gray-700 px-2 py-1.5",id:"old-pwd",placeholder:"Current password",...r("oldPassword")}),e.oldPassword&&s.jsx("p",{className:"mt-0.5 text-sm text-red-500",children:e.oldPassword.message})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"mb-1 inline-block",htmlFor:"new-pwd",children:"New password"}),s.jsx("input",{type:"password",className:"w-full rounded-lg bg-gray-700 px-2 py-1.5",id:"new-pwd",placeholder:"New password",...r("newPassword")}),e.newPassword&&s.jsx("p",{className:"mt-0.5 text-sm text-red-500",children:e.newPassword.message})]}),s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"mb-1 inline-block",htmlFor:"cnfrm-pwd",children:"Confirm password"}),s.jsx("input",{type:"password",className:"w-full rounded-lg bg-gray-700 px-2 py-1.5",id:"cnfrm-pwd",placeholder:"Confirm password",...r("confirmPassword")}),e.confirmPassword&&s.jsx("p",{className:"mt-0.5 text-sm text-red-500",children:e.confirmPassword.message})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-4 p-4",children:[s.jsx("button",{type:"button",onClick:()=>o(),disabled:l,className:"inline-block rounded bg-red-700 px-3 py-1.5 hover:bg-red-500",children:"Reset"}),s.jsx("button",{type:"submit",disabled:l,className:"inline-block hover:bg-green-500 bg-green-700 text-white rounded px-3 py-1.5",children:"Update Password"})]})]})})]})}export{N as default};
