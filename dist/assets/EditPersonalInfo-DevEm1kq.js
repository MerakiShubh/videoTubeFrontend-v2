import{z as t,a as b,c as j,t as y,j as e}from"./index-QFptoyZp.js";import{c as N}from"./user.hook-DPHpX6oN.js";import{P as w}from"./ProgressBar-Co1JsP3d.js";const v=t.object({firstname:t.string().nonempty({message:"First name cannot be empty"}).regex(/^\S*$/,{message:"First name cannot contain spaces"}).regex(/^[A-Za-z]+$/,{message:"First name must contain only letters"}),lastname:t.string().nonempty({message:"Last name cannot be empty"}).regex(/^\S*$/,{message:"Last name cannot contain spaces"}).regex(/^[A-Za-z]+$/,{message:"Last name must contain only letters"}),email:t.string().email()});function A(){const a=b(i=>i.auth.user),m=a==null?void 0:a.fullName.split(" ")[0],c=a==null?void 0:a.fullName.split(" ")[1],{register:l,handleSubmit:p,reset:x,formState:{errors:s}}=j({resolver:y(v),defaultValues:{firstname:m,lastname:c,email:a==null?void 0:a.email}}),{mutateAsync:g,isPending:n}=N(),h=async i=>{const{firstname:u,lastname:f,email:o}=i,d=`${u} ${f}`,r={firstname:m,lastname:c,email:a==null?void 0:a.email};if(!(d!==`${r.firstname} ${r.lastname}`||o!==r.email))return;await g({fullName:d,email:o})};return e.jsxs("div",{className:"flex flex-wrap justify-center gap-y-4 py-4",children:[n&&e.jsx(w,{}),e.jsxs("div",{className:"w-full sm:w-1/2 lg:w-1/3",children:[e.jsx("h5",{className:"font-semibold",children:"Personal Info"}),e.jsx("p",{className:"text-gray-300",children:"Update your photo and personal details."})]}),e.jsx("div",{className:"w-full sm:w-1/2 lg:w-2/3",children:e.jsxs("form",{onSubmit:p(h),className:"rounded-2xl ",children:[e.jsxs("div",{className:"flex flex-wrap gap-y-4 p-4 bg-gray-900 rounded-2xl",children:[e.jsxs("div",{className:"w-full lg:w-1/2 lg:pr-2",children:[e.jsx("label",{htmlFor:"firstname",className:"mb-1 inline-block",children:"First name"}),e.jsx("input",{type:"text",className:"w-full rounded-lg bg-gray-700 px-2 py-1.5",id:"firstname",placeholder:"Enter first name",...l("firstname")}),s.firstname&&e.jsx("p",{className:"text-red-500",children:s.firstname.message})]}),e.jsxs("div",{className:"w-full lg:w-1/2 lg:pl-2",children:[e.jsx("label",{htmlFor:"lastname",className:"mb-1 inline-block",children:"Last name"}),e.jsx("input",{type:"text",className:"w-full rounded-lg bg-gray-700 px-2 py-1.5",id:"lastname",placeholder:"Enter last name",...l("lastname")}),s.lastname&&e.jsx("p",{className:"text-red-500",children:s.lastname.message})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"email",className:"mb-1 inline-block",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"white","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),e.jsx("input",{type:"text",className:"w-full rounded-lg bg-gray-700 py-1.5 pl-10 pr-2",id:"email",placeholder:"Enter email address",...l("email")}),s.email&&e.jsx("p",{className:"text-red-500",children:s.email.message})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 p-4",children:[e.jsx("button",{type:"button",onClick:()=>x(),disabled:n,className:"inline-block rounded bg-red-700 px-3 py-1.5 hover:bg-red-500",children:"Reset"}),e.jsx("button",{type:"submit",disabled:n,className:"inline-block hover:bg-green-500 bg-green-700 text-white rounded px-3 py-1.5",children:"Save changes"})]})]})})]})}export{A as default};
