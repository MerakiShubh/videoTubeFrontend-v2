import{G as x,u as g,a as c,j as e,I as b,L as i,A as B,B as $,b as I,F as A,c as V,d as j,e as Z,f as v,g as U,r as h,h as q,i as f,s as w,k as E,l as H,m as R,O as z}from"./index-QFptoyZp.js";import{B as y}from"./index-C2DofJDr.js";import{C as N,I as O}from"./index-BFUtJoa7.js";function _(l){return x({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"},child:[]},{tag:"path",attr:{d:"M3 3v5h5"},child:[]},{tag:"path",attr:{d:"M12 7v5l4 2"},child:[]}]})(l)}function C(l){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 5.25v13a.75.75 0 0 1-1.136.643L16.5 15.075v2.175A1.75 1.75 0 0 1 14.75 19h-13A1.75 1.75 0 0 1 0 17.25v-11C0 5.284.784 4.5 1.75 4.5h13c.966 0 1.75.784 1.75 1.75v2.175l6.364-3.818A.75.75 0 0 1 24 5.25Zm-9 1a.25.25 0 0 0-.25-.25h-13a.25.25 0 0 0-.25.25v11c0 .138.112.25.25.25h13a.25.25 0 0 0 .25-.25v-11Zm1.5 7.075 6 3.6V6.575l-6 3.6Z"},child:[]}]})(l)}function k(l){return x({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.877075 7.49972C0.877075 3.84204 3.84222 0.876892 7.49991 0.876892C11.1576 0.876892 14.1227 3.84204 14.1227 7.49972C14.1227 11.1574 11.1576 14.1226 7.49991 14.1226C3.84222 14.1226 0.877075 11.1574 0.877075 7.49972ZM7.49991 1.82689C4.36689 1.82689 1.82708 4.36671 1.82708 7.49972C1.82708 10.6327 4.36689 13.1726 7.49991 13.1726C10.6329 13.1726 13.1727 10.6327 13.1727 7.49972C13.1727 4.36671 10.6329 1.82689 7.49991 1.82689ZM8.24993 10.5C8.24993 10.9142 7.91414 11.25 7.49993 11.25C7.08571 11.25 6.74993 10.9142 6.74993 10.5C6.74993 10.0858 7.08571 9.75 7.49993 9.75C7.91414 9.75 8.24993 10.0858 8.24993 10.5ZM6.05003 6.25C6.05003 5.57211 6.63511 4.925 7.50003 4.925C8.36496 4.925 8.95003 5.57211 8.95003 6.25C8.95003 6.74118 8.68002 6.99212 8.21447 7.27494C8.16251 7.30651 8.10258 7.34131 8.03847 7.37854L8.03841 7.37858C7.85521 7.48497 7.63788 7.61119 7.47449 7.73849C7.23214 7.92732 6.95003 8.23198 6.95003 8.7C6.95004 9.00376 7.19628 9.25 7.50004 9.25C7.8024 9.25 8.04778 9.00601 8.05002 8.70417L8.05056 8.7033C8.05924 8.6896 8.08493 8.65735 8.15058 8.6062C8.25207 8.52712 8.36508 8.46163 8.51567 8.37436L8.51571 8.37433C8.59422 8.32883 8.68296 8.27741 8.78559 8.21506C9.32004 7.89038 10.05 7.35382 10.05 6.25C10.05 4.92789 8.93511 3.825 7.50003 3.825C6.06496 3.825 4.95003 4.92789 4.95003 6.25C4.95003 6.55376 5.19628 6.8 5.50003 6.8C5.80379 6.8 6.05003 6.55376 6.05003 6.25Z",fill:"currentColor"},child:[]}]})(l)}function G(){const l=g(),a=c(s=>s.ui.sideBarFullSize),n=c(s=>{var o;return(o=s.auth.user)==null?void 0:o.username}),t=[{name:"Home",path:"/",icon:e.jsx(B,{}),onMobile:!0},{name:"Liked Videos",path:"/liked-videos",icon:e.jsx(y,{}),onMobile:!1},{name:"History",path:"/history",icon:e.jsx(_,{}),onMobile:!0},{name:"My Channel",path:`/channel/${n}/videos`,icon:e.jsx(C,{}),onMobile:!1},{name:"My Studio",path:"/my-studio",icon:e.jsx($,{}),onMobile:!0},{name:"Subscriptions",path:"/subscriptions",icon:e.jsx(I,{}),onMobile:!0},{name:"Tweets",path:"/tweets",icon:e.jsx(A,{}),onMobile:!0}];return e.jsx("aside",{className:`z-40 group absolute inset-x-0 bottom-0 w-full shrink-0 bg-[#0e0e0e] px-2 py-2 sm:absolute sm:inset-y-0 sm:max-w-[70px] sm:py-6 sm:hover:max-w-[250px] ${a?"lg:sticky lg:max-w-[250px]":""}`,children:e.jsx(b.Provider,{value:{className:"w-6 h-6"},children:e.jsxs("ul",{className:"flex justify-around gap-y-2 sm:sticky sm:top-[106px] sm:min-h-[calc(100vh-130px)] sm:flex-col",children:[t.map((s,o)=>e.jsx("li",{className:`${s.onMobile?"":"hidden"} sm:block`,children:e.jsxs(i,{to:s.path,className:`flex flex-col items-center justify-center py-1 sm:w-full sm:flex-row sm:p-1.5 sm:rounded-md sm:hover:bg-[#444] sm:hover:text-white sm:focus:bg-[#444] sm:focus:text-white sm:group-hover:justify-start sm:group-hover:px-4 lg:justify-start lg:px-4 ${l.pathname===s.path?"text-[#FFFFFF] bg-[#444]":""}`,children:[e.jsx("span",{className:"inline-block w-5 shrink-0 sm:group-hover:mr-4 lg:mr-4",children:s.icon}),e.jsx("span",{className:`block sm:hidden sm:group-hover:inline ${a?"lg:inline":""}`,children:s.name})]})},o)),e.jsx("li",{className:"hidden sm:block mt-auto",children:e.jsxs(i,{to:"/support",className:"flex flex-col items-center justify-center py-1 sm:w-full sm:flex-row sm:p-1.5 sm:rounded-md sm:hover:bg-[#444] sm:hover:text-white sm:focus:bg-[#444] sm:focus:text-white sm:group-hover:justify-start sm:group-hover:px-4 lg:justify-start lg:px-4",children:[e.jsx("span",{className:"inline-block w-5 shrink-0 sm:group-hover:mr-4 lg:mr-4",children:e.jsx(k,{})}),e.jsx("span",{className:`block sm:hidden sm:group-hover:inline ${a?"lg:inline":""}`,children:"Support"})]})}),e.jsx("li",{className:"hidden sm:block",children:e.jsxs(i,{to:"/edit-profile/personal-info",className:"flex flex-col items-center justify-center py-1 sm:w-full sm:flex-row sm:p-1.5 sm:rounded-md sm:hover:bg-[#444] sm:hover:text-white sm:focus:bg-[#444] sm:focus:text-white sm:group-hover:justify-start sm:group-hover:px-4 lg:justify-start lg:px-4",children:[e.jsx("span",{className:"inline-block w-5 shrink-0 sm:group-hover:mr-4 lg:mr-4",children:e.jsx(N,{})}),e.jsx("span",{className:`block sm:hidden sm:group-hover:inline ${a?"lg:inline":""}`,children:"Settings"})]})})]})})})}function P(){const{register:l,handleSubmit:a}=V(),n=j(),t=s=>{console.log("Search query:",s==null?void 0:s.query),n(`/search/${s==null?void 0:s.query}`)};return e.jsxs("form",{onSubmit:a(t),className:"flex items-center w-full max-w-lg",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{className:"w-full border border-gray-500 rounded-l-3xl bg-transparent py-2 pl-10 pr-3 placeholder-white outline-none focus:border-blue-400",placeholder:"Search",...l("query",{required:!0})}),e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsx("button",{type:"submit",className:"bg-gray-700 text-white rounded-r-3xl px-4 py-2 hover:bg-gray-500 transition-colors",children:"Search"})]})}function D(){var p;const l=j(),a=g(),n=c(r=>r.auth.authStatus),t=c(r=>r.auth.user),s=v(),{mutateAsync:o}=U(),[m,u]=h.useState(!1),S=async()=>{await o()&&s(w(null))},L=()=>{l("/my-studio"),s(E(!0))},M=[{name:"Liked Videos",path:"/liked-videos",icon:e.jsx(y,{})},{name:"My Channel",path:`/channel/${t==null?void 0:t.username}/videos`,icon:e.jsx(C,{})},{name:"Support",path:"/support",icon:e.jsx(k,{})},{name:"Settings",path:"/edit-profile/personal-info",icon:e.jsx(N,{})}],d=()=>{u(r=>!r)};return h.useEffect(()=>{u(!1)},[a.pathname]),e.jsx("header",{className:"z-[9999] sticky inset-x-0 top-0 w-full text-white bg-[#0e0e0e] px-4",children:e.jsxs("nav",{className:"mx-auto flex max-w-7xl items-center py-2",children:[e.jsx(i,{to:"/",className:"flex items-center w-2/12",children:e.jsx(q,{className:"shrink-0 sm:w-[8rem]",mobile:!0})}),e.jsx("div",{className:"flex-grow flex justify-center w-10/12",children:e.jsx(P,{})}),e.jsxs("button",{onClick:d,className:"cursor-pointer group peer ml-4 flex w-6 shrink-0 flex-wrap gap-y-1.5 sm:hidden",children:[e.jsx("span",{className:"block h-[2px] w-full bg-white group-hover:bg-blue-400"}),e.jsx("span",{className:"block h-[2px] w-2/3 bg-white group-hover:bg-blue-400"}),e.jsx("span",{className:"block h-[2px] w-full bg-white group-hover:bg-blue-400"})]}),e.jsxs("div",{className:`fixed inset-y-0 right-0 flex w-full max-w-xs shrink-0 ${m?"translate-x-0":"translate-x-full"} flex-col border-l border-white bg-[#0e0e0e] duration-200 sm:static sm:ml-4 sm:w-auto sm:translate-x-0 sm:border-none`,children:[e.jsx("div",{className:"relative flex w-full h-[4rem] items-center justify-end border-b border-white px-4 py-2 sm:hidden",children:e.jsx("button",{onClick:d,className:"inline-block cursor-pointer",children:e.jsx(O,{className:"w-9 h-9"})})}),e.jsx(b.Provider,{value:{className:"w-6 h-6"},children:e.jsx("ul",{className:"my-4 flex w-full flex-wrap gap-2 px-4 sm:hidden",children:M.map((r,F)=>e.jsx("li",{className:"w-full",children:e.jsxs(i,{to:r.path,className:"flex w-full items-center justify-start gap-x-4 border border-white px-4 py-1.5 text-left hover:bg-blue-400 hover:text-black focus:border-blue-500 focus:bg-blue-400 focus:text-black",children:[e.jsx("span",{className:"inline-block w-full max-w-[20px] group-hover:mr-4 lg:mr-4",children:r.icon}),e.jsx("span",{children:r.name})]})},F))})}),e.jsxs("div",{className:"mb-8 mt-auto flex w-full flex-wrap gap-4 px-4 sm:mb-0 sm:mt-0 sm:items-center sm:px-0",children:[e.jsx(f,{className:"bg-green-800",onClick:L,children:"Upload Video"}),n&&t&&e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"bg-red-700 hover:bg-red-500",onClick:S,children:"Logout"}),e.jsx("div",{className:"mb-8 mt-auto px-4 sm:mb-0 sm:mt-0 sm:px-0",children:e.jsxs(i,{to:`/channel/${t==null?void 0:t.username}/videos`,className:"flex w-full gap-4 text-left sm:items-center",children:[e.jsx("img",{src:(p=t.avatar)==null?void 0:p.url,alt:t.username,className:"object-cover h-16 w-16 shrink-0 rounded-full sm:h-12 sm:w-12"}),e.jsxs("div",{className:"w-full pt-2 sm:hidden",children:[e.jsx("h6",{className:"font-semibold",children:t.fullName}),e.jsx("p",{className:"text-sm text-gray-300",children:t.username})]})]})})]}),!n&&e.jsx(e.Fragment,{children:e.jsx(i,{to:"/login",children:e.jsx("button",{className:"bg-blue-800 mr-1 rounded px-3 py-2 text-center text-white transition-all duration-150 ease-in-out active:translate-x-[5px] active:translate-y-[5px] active:shadow-[0px_0px_0px_0px_#4f4e4e] sm:w-auto ",children:"Log in"})})})]})]})]})})}function J(){const l=v(),[a,n]=h.useState(!0),{data:t,isFetching:s,error:o}=H(),m=c(u=>u.auth.userData);return h.useEffect(()=>{s||(t&&!m&&l(w(t)),n(!1))},[t,s,l,m]),a||s?e.jsx(R,{}):(o&&console.error("Error fetching user data:",o),e.jsxs("div",{className:"h-screen overflow-y-auto bg-[#0e0e0e] text-white",children:[e.jsx(D,{}),e.jsxs("div",{className:"flex min-h-[calc(100vh-66px)] sm:min-h-[calc(100vh-82px)]",children:[e.jsx(G,{}),e.jsx(z,{})]})]}))}export{J as default};
